# ============================================
# DockAI Environment Configuration
# ============================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# For GitHub Actions, use secrets and action inputs instead.
# ============================================

# ============================================
# REQUIRED: OpenAI API Configuration
# ============================================
OPENAI_API_KEY=sk-your-api-key-here

# ============================================
# AI Model Configuration
# ============================================
# MODEL_ANALYZER: Cheaper/faster model for analysis and planning
# Options: gpt-4o-mini (recommended), gpt-4o, gpt-4-turbo
MODEL_ANALYZER=gpt-4o-mini

# MODEL_GENERATOR: More capable model for Dockerfile generation and reflection
# Options: gpt-4o (recommended), gpt-4-turbo, gpt-4o-mini
MODEL_GENERATOR=gpt-4o

# ============================================
# Retry Configuration
# ============================================
# Maximum number of retry attempts if validation fails (default: 3)
MAX_RETRIES=3

# ============================================
# Custom Instructions (Optional - Recommended)
# ============================================
# Instructions are APPENDED to the default prompts, allowing you to add
# extra guidance without replacing the entire prompt.
#
# NOTE: You can also use a .dockai file in your project root.
# See README.md for the file format.

# Analyzer - The Build Engineer (file selection, stack detection)
# DOCKAI_ANALYZER_INSTRUCTIONS=

# Planner - The DevOps Architect (build strategy planning)
# DOCKAI_PLANNER_INSTRUCTIONS=

# Generator - The Docker Architect (Dockerfile creation)
# DOCKAI_GENERATOR_INSTRUCTIONS=

# Generator Iterative - The Docker Engineer (iterative improvement)
# DOCKAI_GENERATOR_ITERATIVE_INSTRUCTIONS=

# Reviewer - The Security Engineer (security review)
# DOCKAI_REVIEWER_INSTRUCTIONS=

# Reflector - The Principal DevOps Engineer (failure analysis)
# DOCKAI_REFLECTOR_INSTRUCTIONS=

# Health Detector - The Code Analyst (health endpoint detection)
# DOCKAI_HEALTH_DETECTOR_INSTRUCTIONS=

# Readiness Detector - The Startup Expert (readiness pattern detection)
# DOCKAI_READINESS_DETECTOR_INSTRUCTIONS=

# Error Analyzer - The DevOps Engineer (error classification)
# DOCKAI_ERROR_ANALYZER_INSTRUCTIONS=

# Iterative Improver - The Senior Docker Engineer (applying fixes)
# DOCKAI_ITERATIVE_IMPROVER_INSTRUCTIONS=

# ============================================
# Custom AI Prompts (Advanced - Optional)
# ============================================
# These allow you to completely REPLACE the default AI agent prompts.
# Use with caution - the defaults are designed to work with any technology stack.
# For most users, the custom instructions above are sufficient.
#
# Each prompt corresponds to a specific AI persona in the DockAI workflow:

# The Build Engineer - Analyzes project structure and technology stack
# DOCKAI_PROMPT_ANALYZER=

# The DevOps Architect - Plans the Dockerfile generation strategy
# DOCKAI_PROMPT_PLANNER=

# The Docker Architect - Generates fresh Dockerfiles
# DOCKAI_PROMPT_GENERATOR=

# The Docker Engineer - Iteratively improves failed Dockerfiles
# DOCKAI_PROMPT_GENERATOR_ITERATIVE=

# The Security Engineer - Reviews Dockerfiles for vulnerabilities
# DOCKAI_PROMPT_REVIEWER=

# The Principal DevOps Engineer - Performs post-mortem failure analysis
# DOCKAI_PROMPT_REFLECTOR=

# The Code Analyst - Detects health check endpoints in source code
# DOCKAI_PROMPT_HEALTH_DETECTOR=

# The Startup Expert - Detects application readiness patterns
# DOCKAI_PROMPT_READINESS_DETECTOR=

# The DevOps Engineer - Classifies Docker build/runtime errors
# DOCKAI_PROMPT_ERROR_ANALYZER=

# The Senior Docker Engineer - Applies specific fixes to Dockerfiles
# DOCKAI_PROMPT_ITERATIVE_IMPROVER=

# ============================================
# ============================================
# Validation Configuration (Optional)
# ============================================
# Resource limits for container validation sandbox
# Adjust these based on your application needs (e.g., Java apps need more memory)
DOCKAI_VALIDATION_MEMORY=512m
DOCKAI_VALIDATION_CPUS=1.0
DOCKAI_VALIDATION_PIDS=100

# Maximum allowed image size in MB (set to 0 to disable)
# Default: 500MB - typical for production applications
DOCKAI_MAX_IMAGE_SIZE_MB=500

# Skip health checks during validation
# Set to true for scripts, CLIs, or non-network applications
DOCKAI_SKIP_HEALTH_CHECK=false

# ============================================
# Security Configuration (Optional)
# ============================================
# Skip Trivy security scan entirely (not recommended for production)
DOCKAI_SKIP_SECURITY_SCAN=false

# Strict security mode: fail build on ANY CRITICAL/HIGH vulnerabilities
# When false (default), only fails on critical issues; warns on others
DOCKAI_STRICT_SECURITY=false
