# =============================================================================
# DockAI Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# For GitHub Actions, set these as repository secrets or use action inputs.
# =============================================================================


# =============================================================================
# LLM PROVIDER CONFIGURATION
# =============================================================================
# DockAI supports multiple LLM providers. Set ONE of the following API keys.

# LLM Provider to use (default: openai)
# Options: openai, azure, gemini, anthropic, ollama
DOCKAI_LLM_PROVIDER=openai

# OpenAI API Key (required if using openai provider)
OPENAI_API_KEY=sk-your-api-key-here

# Google Gemini API Key (required if using gemini provider)
GOOGLE_API_KEY=your-google-api-key

# Anthropic API Key (required if using anthropic provider)
ANTHROPIC_API_KEY=your-anthropic-api-key

# Azure OpenAI (required if using azure provider)
AZURE_OPENAI_API_KEY=your-azure-openai-key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# Ollama (required if using ollama provider)
OLLAMA_BASE_URL=http://localhost:11434


# =============================================================================
# AI MODEL CONFIGURATION
# =============================================================================
# Per-agent model configuration (optional - uses smart defaults if not set)
#
# MIXED PROVIDER SUPPORT:
# You can mix providers by prefixing the model name with "provider/".
# Example: DOCKAI_MODEL_ANALYZER=openai/gpt-4o-mini (overrides default provider)



# Per-agent model configuration (advanced - overrides the above)
# Example: Use OpenAI for analysis but Ollama for everything else
# DOCKAI_LLM_PROVIDER=ollama
# DOCKAI_MODEL_ANALYZER=openai/gpt-4o-mini

DOCKAI_MODEL_ANALYZER=gpt-4o-mini
DOCKAI_MODEL_PLANNER=gpt-4o-mini
DOCKAI_MODEL_GENERATOR=gpt-4o
DOCKAI_MODEL_GENERATOR_ITERATIVE=gpt-4o
DOCKAI_MODEL_REVIEWER=gpt-4o-mini
DOCKAI_MODEL_REFLECTOR=gpt-4o
DOCKAI_MODEL_HEALTH_DETECTOR=gpt-4o-mini
DOCKAI_MODEL_READINESS_DETECTOR=gpt-4o-mini
DOCKAI_MODEL_ERROR_ANALYZER=gpt-4o-mini
DOCKAI_MODEL_ITERATIVE_IMPROVER=gpt-4o


# =============================================================================
# GENERATION SETTINGS
# =============================================================================

# Maximum retry attempts if Dockerfile validation fails (default: 3)
MAX_RETRIES=3


# =============================================================================
# VALIDATION SETTINGS
# =============================================================================

# Memory limit for container validation sandbox (default: 512m)
# Increase for memory-intensive apps (e.g., Java: 1g, ML: 2g)
DOCKAI_VALIDATION_MEMORY=512m

# CPU limit for container validation (default: 1.0)
DOCKAI_VALIDATION_CPUS=1.0

# Maximum processes for container validation (default: 100)
DOCKAI_VALIDATION_PIDS=100

# Maximum image size in MB, 0 to disable (default: 500)
DOCKAI_MAX_IMAGE_SIZE_MB=500

# Skip health check during validation (default: false)
# Set to true for CLIs, scripts, or non-server applications
DOCKAI_SKIP_HEALTH_CHECK=false


# =============================================================================
# FILE ANALYSIS SETTINGS
# =============================================================================

# Maximum characters to read per file (default: 200000)
# Files larger than this will be smartly truncated
DOCKAI_MAX_FILE_CHARS=200000

# Maximum lines to read per file (default: 5000)
DOCKAI_MAX_FILE_LINES=5000


# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Skip Trivy security scan entirely (default: false)
# Not recommended for production
DOCKAI_SKIP_SECURITY_SCAN=false

# Strict security mode (default: false)
# When true, fails on ANY HIGH/CRITICAL vulnerabilities
# When false, only fails on critical; warns on others
DOCKAI_STRICT_SECURITY=false


# =============================================================================
# CUSTOM INSTRUCTIONS (Optional)
# =============================================================================
# Instructions are APPENDED to the agent's default prompt.
# Use these to add project-specific guidance.
#
# Alternative: Use a .dockai file in your project root (see .dockai.example)
# =============================================================================

# Project analyzer - discovers and analyzes project structure
DOCKAI_ANALYZER_INSTRUCTIONS=

# Build planner - plans Dockerfile generation strategy
DOCKAI_PLANNER_INSTRUCTIONS=

# Dockerfile generator - creates the Dockerfile
DOCKAI_GENERATOR_INSTRUCTIONS=

# Iterative generator - fixes Dockerfile after failures
DOCKAI_GENERATOR_ITERATIVE_INSTRUCTIONS=

# Security reviewer - reviews for vulnerabilities
DOCKAI_REVIEWER_INSTRUCTIONS=

# Failure reflector - analyzes why generation failed
DOCKAI_REFLECTOR_INSTRUCTIONS=

# Health detector - finds health check endpoints
DOCKAI_HEALTH_DETECTOR_INSTRUCTIONS=

# Readiness detector - finds startup/readiness patterns
DOCKAI_READINESS_DETECTOR_INSTRUCTIONS=

# Error analyzer - classifies and diagnoses errors
DOCKAI_ERROR_ANALYZER_INSTRUCTIONS=

# Iterative improver - applies specific fixes
DOCKAI_ITERATIVE_IMPROVER_INSTRUCTIONS=


# =============================================================================
# CUSTOM PROMPTS (Advanced)
# =============================================================================
# Prompts COMPLETELY REPLACE the agent's default prompt.
# Use with caution - defaults are designed to work with any tech stack.
#
# Alternative: Use a .dockai file in your project root (see .dockai.example)
# =============================================================================

DOCKAI_PROMPT_ANALYZER=
DOCKAI_PROMPT_PLANNER=
DOCKAI_PROMPT_GENERATOR=
DOCKAI_PROMPT_GENERATOR_ITERATIVE=
DOCKAI_PROMPT_REVIEWER=
DOCKAI_PROMPT_REFLECTOR=
DOCKAI_PROMPT_HEALTH_DETECTOR=
DOCKAI_PROMPT_READINESS_DETECTOR=
DOCKAI_PROMPT_ERROR_ANALYZER=
DOCKAI_PROMPT_ITERATIVE_IMPROVER=
