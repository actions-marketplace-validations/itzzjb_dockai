# ============================================
# DockAI Environment Configuration
# ============================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# For GitHub Actions, use secrets and action inputs instead.
# ============================================

# ============================================
# REQUIRED: OpenAI API Configuration
# ============================================
OPENAI_API_KEY=sk-your-api-key-here

# ============================================
# AI Model Configuration
# ============================================
# MODEL_ANALYZER: Cheaper/faster model for analysis and planning
# Options: gpt-4o-mini (recommended), gpt-4o, gpt-4-turbo
MODEL_ANALYZER=gpt-4o-mini

# MODEL_GENERATOR: More capable model for Dockerfile generation and reflection
# Options: gpt-4o (recommended), gpt-4-turbo, gpt-4o-mini
MODEL_GENERATOR=gpt-4o

# ============================================
# Retry Configuration
# ============================================
# Maximum number of retry attempts if validation fails (default: 3)
MAX_RETRIES=3

# ============================================
# Custom Instructions (Optional)
# ============================================
# Instructions for the analyzer stage (file selection, stack detection)
# Example: "Focus on microservices architecture" or "Look for .env.example files"
# DOCKAI_ANALYZER_INSTRUCTIONS=

# Instructions for the generator stage (Dockerfile creation)
# Example: "Use Alpine-based images" or "Ensure all images use multi-stage builds"
# DOCKAI_GENERATOR_INSTRUCTIONS=

# NOTE: You can also use a .dockai file in your project root for custom instructions.
# See README.md for the file format.

# ============================================
# ============================================
# Validation Configuration (Optional)
# ============================================
# Resource limits for container validation sandbox
# Adjust these based on your application needs (e.g., Java apps need more memory)
DOCKAI_VALIDATION_MEMORY=512m
DOCKAI_VALIDATION_CPUS=1.0
DOCKAI_VALIDATION_PIDS=100

# Maximum allowed image size in MB (set to 0 to disable)
# Default: 500MB - typical for production applications
DOCKAI_MAX_IMAGE_SIZE_MB=500

# Skip health checks during validation
# Set to true for scripts, CLIs, or non-network applications
DOCKAI_SKIP_HEALTH_CHECK=false

# ============================================
# Security Configuration (Optional)
# ============================================
# Skip Trivy security scan entirely (not recommended for production)
DOCKAI_SKIP_SECURITY_SCAN=false

# Strict security mode: fail build on ANY CRITICAL/HIGH vulnerabilities
# When false (default), only fails on critical issues; warns on others
DOCKAI_STRICT_SECURITY=false
