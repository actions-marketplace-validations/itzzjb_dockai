# =============================================================================
# DockAI Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# For GitHub Actions, set these as repository secrets or use action inputs.
# =============================================================================


# =============================================================================
# REQUIRED
# =============================================================================

# OpenAI API Key (required)
OPENAI_API_KEY=sk-your-api-key-here


# =============================================================================
# AI MODEL CONFIGURATION
# =============================================================================

# Model for analysis and planning tasks (faster, cheaper)
# Options: gpt-4o-mini (default), gpt-4o, gpt-4-turbo
MODEL_ANALYZER=gpt-4o-mini

# Model for generation and reflection tasks (more capable)
# Options: gpt-4o (default), gpt-4-turbo, gpt-4o-mini
MODEL_GENERATOR=gpt-4o


# =============================================================================
# GENERATION SETTINGS
# =============================================================================

# Maximum retry attempts if Dockerfile validation fails (default: 3)
MAX_RETRIES=3


# =============================================================================
# VALIDATION SETTINGS
# =============================================================================

# Memory limit for container validation sandbox (default: 512m)
# Increase for memory-intensive apps (e.g., Java: 1g, ML: 2g)
DOCKAI_VALIDATION_MEMORY=512m

# CPU limit for container validation (default: 1.0)
DOCKAI_VALIDATION_CPUS=1.0

# Maximum processes for container validation (default: 100)
DOCKAI_VALIDATION_PIDS=100

# Maximum image size in MB, 0 to disable (default: 500)
DOCKAI_MAX_IMAGE_SIZE_MB=500

# Skip health check during validation (default: false)
# Set to true for CLIs, scripts, or non-server applications
DOCKAI_SKIP_HEALTH_CHECK=false


# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Skip Trivy security scan entirely (default: false)
# Not recommended for production
DOCKAI_SKIP_SECURITY_SCAN=false

# Strict security mode (default: false)
# When true, fails on ANY HIGH/CRITICAL vulnerabilities
# When false, only fails on critical; warns on others
DOCKAI_STRICT_SECURITY=false


# =============================================================================
# CUSTOM INSTRUCTIONS (Optional)
# =============================================================================
# Instructions are APPENDED to the agent's default prompt.
# Use these to add project-specific guidance.
#
# Alternative: Use a .dockai file in your project root (see .dockai.example)
# =============================================================================

# Project analyzer - discovers and analyzes project structure
# DOCKAI_ANALYZER_INSTRUCTIONS=

# Build planner - plans Dockerfile generation strategy
# DOCKAI_PLANNER_INSTRUCTIONS=

# Dockerfile generator - creates the Dockerfile
# DOCKAI_GENERATOR_INSTRUCTIONS=

# Iterative generator - fixes Dockerfile after failures
# DOCKAI_GENERATOR_ITERATIVE_INSTRUCTIONS=

# Security reviewer - reviews for vulnerabilities
# DOCKAI_REVIEWER_INSTRUCTIONS=

# Failure reflector - analyzes why generation failed
# DOCKAI_REFLECTOR_INSTRUCTIONS=

# Health detector - finds health check endpoints
# DOCKAI_HEALTH_DETECTOR_INSTRUCTIONS=

# Readiness detector - finds startup/readiness patterns
# DOCKAI_READINESS_DETECTOR_INSTRUCTIONS=

# Error analyzer - classifies and diagnoses errors
# DOCKAI_ERROR_ANALYZER_INSTRUCTIONS=

# Iterative improver - applies specific fixes
# DOCKAI_ITERATIVE_IMPROVER_INSTRUCTIONS=


# =============================================================================
# CUSTOM PROMPTS (Advanced)
# =============================================================================
# Prompts COMPLETELY REPLACE the agent's default prompt.
# Use with caution - defaults are designed to work with any tech stack.
#
# Alternative: Use a .dockai file in your project root (see .dockai.example)
# =============================================================================

# DOCKAI_PROMPT_ANALYZER=
# DOCKAI_PROMPT_PLANNER=
# DOCKAI_PROMPT_GENERATOR=
# DOCKAI_PROMPT_GENERATOR_ITERATIVE=
# DOCKAI_PROMPT_REVIEWER=
# DOCKAI_PROMPT_REFLECTOR=
# DOCKAI_PROMPT_HEALTH_DETECTOR=
# DOCKAI_PROMPT_READINESS_DETECTOR=
# DOCKAI_PROMPT_ERROR_ANALYZER=
# DOCKAI_PROMPT_ITERATIVE_IMPROVER=
